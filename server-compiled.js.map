{"version":3,"sources":["server.js"],"names":[],"mappings":";;AAGA;;;;AACA;;;;AACA;;;;;;AAEA,IAAI,SAAS,gBAAb,C,CAPA;;;;;AASA,IAAI,cAAc,0CAAlB;;AAEA,IAAI,MAAM,wBAAV;;AAEA,IAAI,GAAJ,CAAQ,qBAAW,IAAX,EAAR;AACA,IAAI,GAAJ,CAAQ,qBAAW,UAAX,CAAsB,EAAE,UAAU,IAAZ,EAAtB,CAAR;;AAGA,IAAI,MAAJ,CAAW,QAAQ,GAAR,CAAY,IAAZ,IAAoB,IAA/B,EAAqC,YAAM;AACvC,YAAQ,GAAR,CAAY,mBAAZ;AACH,CAFD;;AAIA,IAAI,IAAJ,CAAS,OAAT,EAAkB,UAAC,GAAD,EAAM,GAAN,EAAa;AAC3B,QAAM,QAAQ,iBAAd;AACA,QAAM,OAAO,MAAb;AACA,QAAM,OAAO,uBAAI,MAAJ,CAAW,IAAI,IAAJ,CAAS,IAApB,EAA0B,MAA1B,CAAb;AACA,YAAQ,GAAR,CAAY,IAAZ;AACA,QAAG,KAAK,QAAL,KAAkB,KAArB,EAA2B;AACvB,YAAG,KAAK,QAAL,KAAkB,IAArB,EAA0B;AACtB,mCAAI,IAAJ,CAAS;AACL,gCAAgB,WADX;AAEL,8BAAc,QAFT;AAGL,8BAAc,KAHT;AAIL,iCAAiB,0CAJZ;AAKL,2BAAW;AALN,aAAT,EAMG,MANH,EAMW,UAAC,GAAD,EAAM,KAAN,EAAe;AACtB,oBAAI,IAAJ,CAAS,KAAT;AACH,aARD;AASH,SAVD,MAUK;AACD,gBAAI,MAAJ,CAAW,GAAX;AACA,mCAAI,IAAJ,CAAS,EAAC,WAAW,gBAAZ,EAAT,EAAwC,MAAxC,EAAgD,UAAC,GAAD,EAAM,KAAN,EAAe;AAC3D,oBAAI,IAAJ,CAAS,KAAT;AACH,aAFD;AAGH;AACJ,KAjBD,MAiBK;AACF,YAAI,MAAJ,CAAW,GAAX;AACC,+BAAI,IAAJ,CAAS,EAAC,WAAW,gBAAZ,EAAT,EAAwC,MAAxC,EAAgD,UAAC,GAAD,EAAM,KAAN,EAAe;AAC3D,gBAAI,IAAJ,CAAS,KAAT;AACH,SAFD;AAGH;AACJ,CA5BD;;AA8BA,IAAI,WAAW,CACX,EAAC,QAAQ,eAAT,EADW,EAEX,EAAC,QAAQ,kBAAT,EAFW,EAGX,EAAC,QAAQ,WAAT,EAHW,EAIX,EAAC,QAAQ,oBAAT,EAJW,EAKX,EAAC,QAAQ,wBAAT,EALW,CAAf;;AAQA,IAAI,GAAJ,CAAQ,WAAR,EAAqB,UAAC,GAAD,EAAM,GAAN,EAAc;AAC/B,QAAG,IAAI,OAAJ,CAAY,YAAZ,KAA6B,WAAhC,EAA4C;AACxC,+BAAI,IAAJ,CAAS;AACL,wBAAY;AADP,SAAT,EAEG,MAFH,EAEW,UAAC,GAAD,EAAM,KAAN,EAAe;AACtB,gBAAI,IAAJ,CAAS,KAAT;AACH,SAJD;AAKH,KAND,MAMK;AACD,YAAI,MAAJ,CAAW,GAAX;AACA,+BAAI,IAAJ,CAAS,EAAC,WAAW,sBAAZ,EAAT,EAA8C,MAA9C,EAAsD,UAAC,GAAD,EAAM,KAAN,EAAe;AACjE,gBAAI,IAAJ,CAAS,KAAT;AACH,SAFD;AAGH;AAEJ,CAdD","file":"server-compiled.js","sourcesContent":["/**\n * Created by pablos on 5/3/17.\n */\nimport express from 'express';\nimport bodyParser   from 'body-parser';\nimport jwt from 'jsonwebtoken';\n\nlet secret = \"SOMECOOLSECRET\";\n\nlet accessToken = \"jK06rHVB3o0KJMerdolD8eSi570MVyMCdefSNip4\";\n\nlet app = express();\n\napp.use(bodyParser.json());\napp.use(bodyParser.urlencoded({ extended: true }));\n\n\napp.listen(process.env.PORT || 3000, () => {\n    console.log('listening on 3000');\n});\n\napp.post(\"/auth\", (req, res) =>{\n    const email = \"email@email.com\";\n    const pass = \"pass\";\n    const body = jwt.verify(req.body.data, secret);\n    console.log(body);\n    if(body.username === email){\n        if(body.password === pass){\n            jwt.sign({\n                \"access_token\": accessToken,\n                \"token_type\": \"Bearer\",\n                \"expires_in\": 86400,\n                \"refresh_token\": \"GRq3UVgZh9wSENzTTlZ92eHeTzWMOAJL3HKKn6q4\",\n                \"user_id\": \"82\"\n            }, secret, (err, token) =>{\n                res.json(token)\n            });\n        }else{\n            res.status(500);\n            jwt.sign({\"message\": \"wrong password\"}, secret, (err, token) =>{\n                res.json(token)\n            });\n        }\n    }else{\n       res.status(500);\n        jwt.sign({\"message\": \"wrong username\"}, secret, (err, token) =>{\n            res.json(token)\n        });\n    }\n});\n\nlet products = [\n    {\"name\": \"Press Release\"},\n    {\"name\": \"By Lined Article\"},\n    {\"name\": \"Blog Post\"},\n    {\"name\": \"Company Fact Sheet\"},\n    {\"name\": \"Influence & Media List\"}\n];\n\napp.get('/products', (req, res) => {\n    if(req.headers.access_token === accessToken){\n        jwt.sign({\n            \"products\": products\n        }, secret, (err, token) =>{\n            res.json(token)\n        });\n    }else{\n        res.status(401);\n        jwt.sign({\"message\": \"unauthorized request\"}, secret, (err, token) =>{\n            res.json(token)\n        });\n    }\n\n});"]}